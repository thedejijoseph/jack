<!DOCTYPE html>
<html lang="en">
	
	<head>
		<title>Word Jack!</title>
		<meta name="viewport" content="width=device-width, scale=1"/>
		
		<style>
			@import url("{{ static_url('css/materialize.min.css') }}");
			
			#header{
				margin: 10px 0px;;
				font-size: 2em;
			}
			
			#feedback{
				margin: 7px 0px;
				font-size: 0.9rem;
				text-transform: uppercase;
			}
		</style>
	</head>
	
	<body>
		<div id="container" class="container row">
			<div id="header" class="col s12 m12 l12">
				<div>Word Jack!</div>
			</div>
			
			<div id="waiter" class="col s12 l4">
				<form id="orderForm">
					<div id="call">
						<input type="text" name="order" id="orderBox" autocomplete="off"/>
					</div>
					<div id="controls" class="">
						<input type="submit" value="order" id="serveOrder" class="btn white black-text"/>
						<button id="clearOrder" class="btn white black-text">clear</button>
					</div>
				</form>
				<div id="feedback">
					hi, what would like to have today?
				</div>
			</div>
			
			<div id="menu" class="col s12 l8">
				
			</div>
		</div>
		
		<script>
document.getElementById("serveOrder").addEventListener("click", serveOrder);

document.getElementById("clearOrder").addEventListener("click", clearOrder);

function serveOrder(e){
	e.preventDefault();
	
	var xhr = new XMLHttpRequest();
	
	var order = document.getElementById("orderBox").value;
	
	xhr.open('GET', '/serve?order=' + order, true);
	
	xhr.onreadystatechange = function(){
		if (this.readyState == 4){
			document.getElementById("feedback").innerHTML = "here's your order";
			document.getElementById("menu").innerHTML = this.responseText;
		}
	}
	
	xhr.send();
	document.getElementById("feedback").innerHTML = "processing";
}

function clearOrder(e){
	e.preventDefault();
	document.getElementById("orderBox").value = "";
	document.getElementById("menu").innerHTML = "";
	document.getElementById("feedback").innerHTML = "";
}
		</script>
	</body>

</html>